"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}$(function(){$("select").styler(),$(".open-popup").magnificPopup({type:"inline",mainClass:"mfp-forms",fixedContentPos:!1,fixedBgPos:!1}),$(".close-popup").click(function(){$.magnificPopup.close()}),$(".open-payment").click(function(){event.preventDefault();var t=$(this).data("description");$("#form-subject").val("Узнать больше: "+t),$.magnificPopup.open({items:{src:"#formCallback",type:"inline",mainClass:"mfp-forms"},fixedContentPos:!1,fixedBgPos:!1,callbacks:{close:function(){$("#form-subject").val("Заявка с сайта")}}})}),$(".popup").submit(function(){var t=$(this);return $.ajax({type:"POST",url:"mail.php",data:t.serialize()}).done(function(){swal("Спасибо! Мы свяжемся с Вами ближайшее время"),setTimeout(function(){t.trigger("reset"),$.magnificPopup.close()},1e3)}),!1}),$("#callback-form").submit(function(){var t=$(this);return $.ajax({type:"POST",url:"mail.php",data:t.serialize()}).done(function(){swal("Спасибо за заявку! Мы свяжемся с Вами ближайшее время"),setTimeout(function(){t.trigger("reset")},1e3)}),!1})}),document.addEventListener("DOMContentLoaded",function(){new Swiper("#slider .swiper-container",{loop:!0,speed:500,observer:!0,observeParents:!0,navigation:{nextEl:"#slider .main-slider-next",prevEl:"#slider .main-slider-prev"}});function t(t){}window.addEventListener("load",function(t){o()}),window.addEventListener("resize",t);var e=document.getElementById("apartments-tab-item-wrap"),n=document.getElementById("apartments-pane-item-wrap"),a="",i="",s=document.getElementById("mse2_results");function o(){[].concat(_toConsumableArray(document.querySelectorAll(".result__item"))).forEach(function(t){var e=[].concat(_toConsumableArray(t.querySelectorAll(".apartments-slide"))),n=(document.querySelector(".aprtment-phone-alloke").cloneNode(!1),"");e.forEach(function(t){n+='\n\t\t\t\t<div class="swiper-slide">\n\t\t\t\t\t<img class="img-responsive" src="'+t.getAttribute("src")+'" alt="'+t.getAttribute("alt")+'">\n\t\t\t\t</div>\t\t\t\t\t\n\t\t\t\t'}),a+='\n\t\t\t<a href="#apartments-pane-item-wrap" class="apartments-list__item flex-fluid">\n\t\t\t\t<div class="colg apartments-list__item-rooms">\n\t\t\t\t'+t.dataset.rooms+'\n\t\t\t\t</div>\n\t\t\t\t<div class="colg apartments-list__item-area">\n\t\t\t\t'+t.dataset.area+' м<sup>2</sup>\n\t\t\t\t</div>\n\t\t\t\t<div class="colg apartments-list__item-floor">\n\t\t\t\t'+t.dataset.floor+' этаж\n\t\t\t\t</div>\n\t\t\t\t<div class="colg apartments-list__item-deadline">\n\t\t\t\t'+t.dataset.deadline+'\n\t\t\t\t</div>\n\t\t\t\t<div class="colg apartments-list__item-price">\n\t\t\t\t\t<span class="red">'+t.dataset.price+"</span>\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t\t\t",i+='\n\t\t\t\t\t<div class="apartment-info-item">\n\t\t\t\t\t\t<div class="apartment-info-item__slider swiper-container">\n\t\t\t\t\t\t\t<div class="swiper-wrapper">\n\t\t\t\t\t\t\t\t'+n+'\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\x3c!-- Add Arrows --\x3e\n\t\t\t\t\t\t\t<div class="apartment-info-item__slider-next"><i class="fa fa-angle-right" aria-hidden="true"></i>\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="apartment-info-item__slider-prev"><i class="fa fa-angle-left" aria-hidden="true"></i>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="flex-fluid apartment-info-item__top-info">\n\t\t\t\t\t\t\t<div class="colg apartment-info-item__top-info-left">\n\t\t\t\t\t\t\t\t<div class="apartment-info-item__top-info-title">'+t.dataset.title+"</div>\n\t\t\t\t\t\t\t\t<span>"+t.dataset.deadline+'</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="colg apartment-info-item__top-info-right">\n\t\t\t\t\t\t\t\t<div class="apartment-info-item__top-info-title red">'+t.dataset.price+"</div>\n\t\t\t\t\t\t\t\t<span>"+t.dataset.pricem+' руб./м<sup>2</sup></span>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="apartment-info-item__bottom-info flex-fluid">\n\t\t\t\t\t\t\t<div class="colg">\n\t\t\t\t\t\t\t\t<div class="apartment-info-item__bottom-info-title">Площадь</div>\n\t\t\t\t\t\t\t\t<span>'+t.dataset.area+' м<sup>2</sup></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="colg">\n\t\t\t\t\t\t\t\t<div class="apartment-info-item__bottom-info-title">Этаж</div>\n\t\t\t\t\t\t\t\t<span>'+t.dataset.floor+'</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="colg">\n\t\t\t\t\t\t\t\t<div class="apartment-info-item__bottom-info-title">Санузел</div>\n\t\t\t\t\t\t\t\t<span>'+t.dataset.bathroom+'</span>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="apartment-info-item__description">\n\t\t\t\t\t\t\t<p>'+t.dataset.text+'</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="apartment-info-item__btn-block">\n\t\t\t\t\t\t\t<a  class="open btn" data-description="Забронировать квартиру в ЖК Ньютон('+t.dataset.title+"): количество комнат - "+t.dataset.rooms+" , срок сдачи - "+t.dataset.deadline+" , площадь - "+t.dataset.area+", цена - "+t.dataset.price+", этаж "+t.dataset.floor+'">Забронировать</a>\n\t\t\t\t\t\t\t<a  class="btn open-excursion" data-description="Записаться на экскурсию в ЖК Ньютон('+t.dataset.title+"): количество комнат - "+t.dataset.rooms+" , срок сдачи - "+t.dataset.deadline+" , площадь - "+t.dataset.area+", цена - "+t.dataset.price+", этаж "+t.dataset.floor+'">Записаться на экскурсию</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="apartment-info-item__phone-block">\n\t\t\t\t\t\t\t<a href="tel: '+t.dataset.telphone+'" class="phone">'+t.dataset.phone+"</a>\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t"}),e.insertAdjacentHTML("beforeend",a),n.insertAdjacentHTML("beforeend",i),function(){function n(t){c=new Swiper(t,{loop:!0,speed:500,observer:!0,observeParents:!0,navigation:{nextEl:".apartment-info-item__slider-next",prevEl:".apartment-info-item__slider-prev"}})}var a=[].concat(_toConsumableArray(document.querySelectorAll(".apartment-info-item__slider"))),i=a[0],s=[].concat(_toConsumableArray(document.querySelectorAll(".apartments-list .apartments-list__item"))),o=[].concat(_toConsumableArray(document.querySelectorAll(".apartments-list .apartment-info-item"))),c=void 0;s[0].classList.add("is-active"),o[0].classList.add("is-active"),n(i),s.forEach(function(t,e){t.addEventListener("click",function(t){s.forEach(function(t){t.classList.remove("is-active")}),o.forEach(function(t){t.classList.remove("is-active")}),c.destroy(!1,!0),n(i=a[e]),this.classList.add("is-active"),o[e].classList.add("is-active"),t.preventDefault(),window.screen.width<=991?smoothScrollTo(document.getElementById("apartments-pane-item-wrap").offsetTop-60):smoothScrollTo(document.getElementById("apartments-pane-item-wrap").offsetTop)})}),$(".open").click(function(){var t=$(this).data("description");$("#form_callback-popup #form-subject").val(t),$.magnificPopup.open({items:{src:"#formCallback",type:"inline",mainClass:"mfp-forms"},fixedContentPos:!1,fixedBgPos:!1,callbacks:{close:function(){$("#form_callback-popup #form-subject").val("Заявка с сайта")}}})}),$(".open-excursion").click(function(){var t=$(this).data("description");$("#form_excursion-popup #form-subject").val(t),$.magnificPopup.open({items:{src:"#form-excursion",type:"inline",mainClass:"mfp-forms"},fixedContentPos:!1,fixedBgPos:!1,callbacks:{close:function(){$("#form_excursion-popup #form-subject").val("Заявка на экскурсию")}}})})}()}new MutationObserver(function(t){t.forEach(function(t){e.innerHTML="",n.innerHTML="",i=a="",o()})}).observe(s,{attributes:!1,childList:!0,characterData:!1}),function(t,e){var n=[].concat(_toConsumableArray(document.querySelectorAll(t))),a=[].concat(_toConsumableArray(document.querySelectorAll(e)));n[1].classList.add("is-active"),a[1].classList.add("is-active");var i=document.getElementById("tab1"),s=document.getElementById("tab2");function o(){n.forEach(function(t){t.classList.remove("is-active")}),a.forEach(function(t){t.classList.remove("is-active")})}n.forEach(function(t,e){i.addEventListener("click",function(){o(),n[0].classList.add("is-active"),a[0].classList.add("is-active")}),s.addEventListener("click",function(){o(),n[1].classList.add("is-active"),a[1].classList.add("is-active")}),t.addEventListener("click",function(){o(),this.classList.add("is-active"),a[e].classList.add("is-active")})})}("#payment .tab","#payment .pane");var c=document.getElementById("copy"),r=document.getElementById("referral");c&&c.addEventListener("click",function(t){return t.preventDefault(),r.select(),document.execCommand("copy"),!1});var l=document.querySelector(".hamburger"),d=document.querySelector(".sidebar__content"),m=document.querySelector("#navigation");l.addEventListener("click",function(t){this.classList.toggle("is-active"),m.classList.toggle("open")}),window.addEventListener("click",function(t){t.target===d&&(l.classList.toggle("is-active"),m.classList.toggle("open"))});var p=document.querySelectorAll(".active-box");[].forEach.call(p,function(t){t.addEventListener("click",function(t){this.classList.toggle("active-box-open"),this.parentElement.nextElementSibling.classList.toggle("hidden"),this.classList.contains("active-box-open")?(this.querySelector("i").classList.remove("fa-angle-down"),this.querySelector("i").classList.add("fa-angle-up")):(this.querySelector("i").classList.remove("fa-angle-up"),this.querySelector("i").classList.add("fa-angle-down"))})});var f,u,v,g=document.querySelector(".scroll-to-discount"),_=document.getElementById("apartments");g.addEventListener("click",function(t){document.querySelector(".search-block__discount input").checked=!0,t.preventDefault(),history.pushState(null,null,"/?discount=yes"),window.screen.width<=991?smoothScrollTo(_.offsetTop-60):smoothScrollTo(_.offsetTop),mSearch2.submit()}),[].concat(_toConsumableArray(document.querySelectorAll(".scroll"))).forEach(function(t){var e=t.parentElement,n=t.getAttribute("href"),a=document.querySelector(n);t.addEventListener("click",function(t){t.preventDefault(),window.screen.width<=991?(smoothScrollTo(a.offsetTop-60),e.classList.contains("menu__item")&&(l.classList.toggle("is-active"),m.classList.toggle("open"))):smoothScrollTo(a.offsetTop)})}),window.smoothScrollTo=(v=u=f=void 0,function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"500",n=window.pageYOffset,a=t-window.pageYOffset;return u=Date.now(),v=0,f&&clearInterval(f),f=setInterval(function(){var t;1<=(v=(Date.now()-u)/e)&&(clearInterval(f),v=1),t=v*a+n,window.scrollBy(0,t-window.pageYOffset)},10)})});